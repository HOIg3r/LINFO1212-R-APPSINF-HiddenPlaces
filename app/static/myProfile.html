<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>HiddenPlaces - MyProfile</title>
    <link rel="stylesheet" href="navbar.css">
    <link rel="stylesheet" href="myProfile.css">
    <link rel="stylesheet" href="popup.css">


</head>
<body>
<header>
    <div class="topnav" id="myTopnav">
        <a href="index.html" class="active">HiddenPlaces</a>
        <a href="index.html">Home</a>
        <a href="login.html">Log-in</a>
        <a href="places.html">Places</a>
        <a href="addPlaces.html">Add places</a>


        <div class="search-box">
            <form method="post" action="search">
                <button class="btn-search"><i class="fas fa-search"></i></button>
                <input type="text" class="input-search" placeholder="Search..." name="input">
            </form>
        </div>


        <div class="dropdown">
            <!--TODO : Put username vertical align-->
            <p class="username">{{username}}</p>
            <img src="img/user.png" alt="Profile picture" id="profile_picture" width="40px" height="40px"
                 class="profile-picture">

            <div class="dropdown-content" id="dropdownProfile">
                <a href="myProfile.html">Mon profil</a>
                <a href="logout.html">Se déconnecter</a>
            </div>
        </div>
    </div>
</header>

<div class="container">
    <h1>Mon profil</h1>
    <div id="info">
        <p><span> Your username</span> : {{username}} </p>
        <p><span>Your fullname</span> : {{fullname}}</p>
        <p><span>Your Email</span> : {{email}}</p>
        <div id="change_info">
            <form class="change_don" id="form_c" method="post" name="form_c">
                <input name="new_username" type="text" placeholder="new username" required>
                <input name="new_email" type="email" placeholder="example@hotmail.com" required>
                <input name="new_fullname" type="text" placeholder="new fullname" required>
                <input name="new_password" type="password" placeholder="new password" required>
                <input name="new_confirmed_password" type="password" placeholder="confirm new password" required>
                <button type="submit">Changer mes données</button>
            </form>
        </div>
        <div class="delete_btn">
            <button class="delete_account_btn" id="delete_account_btn">Supprimer mon compte</button>
        </div>

    </div>

</div>

<div style="display:{{style}}" id="overlay" class="overlay">
    <div id="popup-errorMessage" class="popup-errorMessage">
        <h2>Error Message : <span class="btnClose" id="btnClose">&times;</span></h2>
        <h3>{{errorMessage}}</h3>

    </div>
</div>

<script>
    var btnClose = document.getElementById("btnClose");
    var overlay = document.getElementById("overlay");

    btnClose.addEventListener("click", closePopup);

    function closePopup() {
        overlay.style.display = "none";
    }

    document.addEventListener("keypress", function(event) {
        overlay.style.display = 'none'
    });
</script>

</body>

<footer>
    <p>&copy; 2021-2022 HiddenPlaces</p>
    <p>Tous droits réservés</p>
</footer>
</html>